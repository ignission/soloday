# Implementation Log: Task 5.3

**Summary:** アプリケーションエラー型（AppError, ConfigError, FileSystemError, KeychainError）を実装。各エラー型は文字列リテラルunionのcodeで判別可能。ファクトリ関数、型ガード、シリアライズユーティリティを含む。

**Timestamp:** 2026-01-26T00:49:09.535Z
**Log ID:** 83a0ee7c-220d-42d5-832c-a2a626e90217

---

## Statistics

- **Lines Added:** +535
- **Lines Removed:** -0
- **Files Changed:** 1
- **Net Change:** 535

## Files Modified
_No files modified_

## Files Created
- lib/domain/shared/errors.ts

---

## Artifacts

### Functions

#### configNotFound
- **Purpose:** 設定ファイルが見つからないエラーを生成
- **Location:** lib/domain/shared/errors.ts:96
- **Signature:** (message?: string, cause?: unknown) => ConfigError
- **Exported:** Yes

#### configParseError
- **Purpose:** 設定ファイルのパースエラーを生成
- **Location:** lib/domain/shared/errors.ts:118
- **Signature:** (message?: string, cause?: unknown) => ConfigError
- **Exported:** Yes

#### configValidationError
- **Purpose:** 設定ファイルのバリデーションエラーを生成
- **Location:** lib/domain/shared/errors.ts:141
- **Signature:** (message?: string, cause?: unknown) => ConfigError
- **Exported:** Yes

#### configWriteFailed
- **Purpose:** 設定ファイルの書き込みエラーを生成
- **Location:** lib/domain/shared/errors.ts:164
- **Signature:** (message?: string, cause?: unknown) => ConfigError
- **Exported:** Yes

#### fileNotFound
- **Purpose:** ファイルが見つからないエラーを生成
- **Location:** lib/domain/shared/errors.ts:219
- **Signature:** (path: string, message?: string, cause?: unknown) => FileSystemError
- **Exported:** Yes

#### fileReadFailed
- **Purpose:** ファイル読み込みエラーを生成
- **Location:** lib/domain/shared/errors.ts:244
- **Signature:** (path: string, message?: string, cause?: unknown) => FileSystemError
- **Exported:** Yes

#### fileWriteFailed
- **Purpose:** ファイル書き込みエラーを生成
- **Location:** lib/domain/shared/errors.ts:269
- **Signature:** (path: string, message?: string, cause?: unknown) => FileSystemError
- **Exported:** Yes

#### directoryCreateFailed
- **Purpose:** ディレクトリ作成エラーを生成
- **Location:** lib/domain/shared/errors.ts:294
- **Signature:** (path: string, message?: string, cause?: unknown) => FileSystemError
- **Exported:** Yes

#### keychainAccessDenied
- **Purpose:** Keychainアクセス拒否エラーを生成
- **Location:** lib/domain/shared/errors.ts:363
- **Signature:** (service: string, message?: string, cause?: unknown) => KeychainError
- **Exported:** Yes

#### keychainItemNotFound
- **Purpose:** Keychainアイテムが見つからないエラーを生成
- **Location:** lib/domain/shared/errors.ts:395
- **Signature:** (service: string, message?: string, cause?: unknown) => KeychainError
- **Exported:** Yes

#### keychainWriteFailed
- **Purpose:** Keychain書き込みエラーを生成
- **Location:** lib/domain/shared/errors.ts:427
- **Signature:** (service: string, message?: string, cause?: unknown) => KeychainError
- **Exported:** Yes

#### isConfigError
- **Purpose:** ConfigErrorかどうかを判定する型ガード
- **Location:** lib/domain/shared/errors.ts:462
- **Signature:** (error: AppError) => error is ConfigError
- **Exported:** Yes

#### isFileSystemError
- **Purpose:** FileSystemErrorかどうかを判定する型ガード
- **Location:** lib/domain/shared/errors.ts:486
- **Signature:** (error: AppError) => error is FileSystemError
- **Exported:** Yes

#### isKeychainError
- **Purpose:** KeychainErrorかどうかを判定する型ガード
- **Location:** lib/domain/shared/errors.ts:510
- **Signature:** (error: AppError) => error is KeychainError
- **Exported:** Yes

#### toSerializable
- **Purpose:** エラーをJSONシリアライズ可能なオブジェクトに変換
- **Location:** lib/domain/shared/errors.ts:536
- **Signature:** (error: AppError) => Record<string, unknown>
- **Exported:** Yes

#### formatError
- **Purpose:** エラーメッセージを整形して取得
- **Location:** lib/domain/shared/errors.ts:569
- **Signature:** (error: AppError) => string
- **Exported:** Yes

